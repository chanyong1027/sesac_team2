spring:
  application:
    name: LLM_Ops

  jpa:
    properties:
      hibernate:
        format_sql: true
        highlight_sql: true
        use_sql_comments: true
    open-in-view: false

  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true
    baseline-version: 1
    validate-on-migrate: true

management:
  endpoints:
    web:
      exposure:
        include: health,info
  endpoint:
    health:
      show-details: never

server:
  port: 8080

rag:
  chunking:
    chunk-size: 500
    min-chunk-size-chars: 200
    min-chunk-length-to-embed: 80
    max-num-chunks: 10000
    keep-separator: true
  embedding:
    google-genai:
      enabled: false
      api-key:
      model: text-embedding-004
  vectorstore:
    pgvector:
      enabled: false
      schema-name: public
      table-name: doc_chunks
      initialize-schema: false
    distance-type: COSINE_DISTANCE
    index-type: HNSW
    max-document-batch-size: 10000
  search:
    top-k: 3
    similarity-threshold: 0.3
  context:
    max-chunks: 6
    max-context-chars: 3500

prompt:
  model-allowlist:
    openai:
      - gpt-4o
      - gpt-4o-mini
      - gpt-4.1
      - gpt-4.1-mini
      - gpt-4.1-nano
      - gpt-4
      - gpt-3.5-turbo
    anthropic:
      - claude-3-5-sonnet
      - claude-3-5-haiku
      - claude-3-opus
      - claude-3-sonnet
      - claude-3-haiku
      - claude-3-haiku-20240307
    gemini:
      - gemini-2.0-flash
      - gemini-2.5-flash-lite

  pricing:
    version: "2025-02-03-openai-anthropic-gemini"
    currency: "USD"
    providers:
      openai:
        gpt-4o: { input: 0.00125, output: 0.00500 }
        gpt-4o-mini: { input: 0.000075, output: 0.00030 }
        gpt-4.1: { input: 0.00100, output: 0.00400 }
        gpt-4.1-mini: { input: 0.00020, output: 0.00080 }
        gpt-4.1-nano: { input: 0.00005, output: 0.00020 }
        gpt-4: { input: 0.01000, output: 0.03000 }
        gpt-3.5-turbo: { input: 0.00050, output: 0.00150 }
      anthropic:
        claude-3-5-sonnet: { input: 0.00300, output: 0.01500 }
        claude-3-5-haiku: { input: 0.00080, output: 0.00400 }
        claude-3-opus: { input: 0.01500, output: 0.07500 }
        claude-3-sonnet: { input: 0.00300, output: 0.01500 }
        claude-3-haiku: { input: 0.00025, output: 0.00125 }
        claude-3-haiku-20240307: { input: 0.00025, output: 0.00125 }
      gemini:
        gemini-2.0-flash: { input: 0.00015, output: 0.00060 }
        gemini-2.5-flash-lite: { input: 0.00010, output: 0.00040 }

storage:
  s3:
    enabled: ${STORAGE_S3_ENABLED}
    endpoint: ${STORAGE_S3_ENDPOINT}
    bucket: ${STORAGE_S3_BUCKET}
    access-key: ${STORAGE_S3_ACCESS_KEY}
    secret-key: ${STORAGE_S3_SECRET_KEY}
    path-style-access: ${STORAGE_S3_PATH_STYLE_ACCESS}
